---
title: 篩選產品
description: 定義包含或排除產品作為建議使用的條件。
source-git-commit: 7fe89df32dc5363817f957180e5b75e7217fc14a
workflow-type: tm+mt
source-wordcount: '693'
ht-degree: 0%

---

# 篩選產品

Adobe Commerce自動將不可配置的預設篩選器應用於建議單元。 如果您將多個建議單元部署到一個頁面，Adobe Commerce會過濾掉這些單元中重複的任何產品。 只使用對重複產品的第一個引用，為推薦其他產品騰出空間。 Adobe Commerce還過濾掉以前購買的產品和購物車中的產品。

當你 [建立](create.md) 建議單元，您可以定義篩選器，以控制哪些產品可以在建議中顯示。 這些篩選器基於您定義的一組包含或排除條件。 建議中只顯示符合所有包含條件的產品。 不推薦與任何排除條件匹配的產品。

通過在每個篩選器頁上選擇切換，可以配置多個篩選器，並只啟用所需的篩選器。 這允許您建立篩選器的草稿以供將來使用。 啟用的篩選器數顯示在每個頁籤上。

## 條件

條件可以是靜態的或動態的。

- 靜態條件使用現有產品屬性來確定哪些產品可以顯示在設備中。 例如，您可以指定單位中只顯示價格大於$25的庫存產品。 靜態條件可用於所有頁面類型。

- 購物者當前上下文的動態條件鍵，如當前查看的類別或產品。 例如，在建立要在產品詳細資訊頁面上部署的產品建議時，您可以建立一個條件，以僅推薦當前查看產品的相對價格範圍內的產品。 除首頁外，每個頁面類型上都提供動態條件，在包含與頁面生成器一起放置的建議案的頁面上也提供動態條件。

### 邏輯運算子

邏輯運算子 `AND` 和 `OR` 用於連接多個條件。 如果同時使用包含和排除過濾器，則首先評估包含以確定所有可推薦的可能產品，然後從清單中刪除與任何排除過濾器相匹配的產品。

- `AND`  — 加入兩個包含過濾條件
- `OR`  — 加入兩個排除過濾條件

>[!NOTE]
>
> 包含和排除篩選器將替換3.2.2版及更高版本中的舊類別排除 `magento/product-recommendations` 中。 查看 [發行說明](release-notes.md) 瞭解有關Adobe Commerce發行的更多資訊。

## 篩選器類型 {#filtertypes}

![篩選器](assets/rec-conditions.png)

### 類別

基於產品類別的篩選器使用直接類別分配及其子類別。 例如，為類別啟用排除條件 `Gear` 排除分配給 `Gear` 以及所有子類，如 `Gear/Bags` 或 `Gear/Fitness Equipment`。 對於B2B商戶，類別篩選器會附加到 [特定於客戶的產品類別](https://docs.magento.com/user-guide/catalog/category-permissions.html) 已配置。

Adobe Commerce建議在將建議案部署到頁面類型時使用以下類別篩選器配置：

| 頁面 | 篩選依據 |
|---|---|
| 首頁 | 不過濾產品。 |
| 類別 | 篩選特定類別中的產品。 |
| 產品詳細資訊 | 篩選相同類別中的產品。 |
| 購物車 | 篩選購物車中的產品類別。 |
| 訂單確認 | 篩選所購產品的類別。 |

### 產品

產品篩選器指定哪些特定產品有資格或不有資格在建議書中顯示。 不能選擇單獨禁用或不可見的產品，因為這些產品永遠不能出現在建議書中。

### 類型

基於產品類型的過濾器包括或排除特定類型的所有產品。 支援的類型包括 _簡單_。 _可配置_。 _虛擬_。 _可下載_&#x200B;或 _禮品卡_。 _捆綁_ 和 _分組_ 尚不支援產品。

### 可見性

基於可見性篩選產品，例如： _目錄_。 _搜索_，或兩者兼有。

### 價格

基於產品價格的篩選器使用最終價格執行比較。 最終價格包括任何可供匿名購物者使用的折扣或特別定價。 對於B2B商戶，顯示的價格反映 [客戶特定的組定價](https://docs.magento.com/user-guide/catalog/pricing-advanced.html#customer-group-price) 已配置。

### 庫存狀態

以下排除過濾器可用於根據庫存狀態過濾出產品：

- 缺貨 — （僅限排除）排除缺貨的產品。
- 庫存不足 — （僅限排除）不包括庫存不足的產品。 庫存狀態低於 _僅X左閾值_ 值 [庫存配置](https://docs.magento.com/user-guide/configuration/catalog/inventory.html)。
