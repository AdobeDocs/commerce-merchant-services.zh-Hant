---
title: "添加規則"
description: 「瞭解如何建立 [!DNL Live Search] 規則。」
exl-id: c6b92ef5-3b08-47f9-8412-955a9c95a9ee
source-git-commit: 2d4c96679b93a97e032fcbb50a27cbd579554795
workflow-type: tm+mt
source-wordcount: '1401'
ht-degree: 0%

---

# 添加規則

要構建規則，第一步是使用規則編輯器在購物者的查詢文本中定義觸發相關事件的條件。 然後，完成規則詳細資訊，test結果，並發佈規則。

## 添加規則

1. 在管理員中，轉到 **營銷** > SEO &amp; Search > **[!DNL Live Search]**。
1. 設定 **範圍** 以識別 [商店視圖](https://experienceleague.adobe.com/docs/commerce-admin/start/setup/websites-stores-views.html#scope-settings) 適用規則的地方。
1. 按一下 **規則** 頁籤。
1. 按一下 **添加規則** 啟動規則編輯器。

## 條件

條件是觸發事件的要求。 規則最多可包含10個條件和25個事件。

![規則 — 構建規則](assets/rules-add-workspace.png)

>[!NOTE]
>
>當前，無法將規則目標定向到特定客戶組。

### 單條件

1. 下 *建立規則*，選擇 **條件** 並按照說明完成陳述。

   * 搜索查詢包含 — 輸入購物者查詢中必須包含的文本字串。 「匹配」設定確定購物者查詢與目錄匹配的程度。 選項：<br /> 任意 — 購物者查詢文本的任何部分都可以匹配條件。<br />全部 — 購物者的所有查詢必須與條件匹配。
   * 搜索查詢為 — 輸入與購物者查詢完全匹配的文本字串。 例如：「瑜伽褲」。 規則 `Search query is` 和匹配 `All` 只能有一個條件。
   * 搜索查詢以開始 — 輸入必須位於購物者查詢開始處的文本字元或字串。
   * 搜索查詢以 — 輸入必須位於購物者查詢末尾的文本字元或字串。

   結果將立即顯示在 *Test規則* 按優先順序編號。 您可以使用 *每行結果* 右上角的滑塊以更改每行中的產品數。

   ![規則 — 簡單](assets/rule-simple-test.png)

1. 要test其他查詢，請更改 *Test規則* 搜索框和按鍵 **返回**。
最初，test窗格會從「條件」搜索框中呈現查詢。 但現在它正在從test查詢框中呈現查詢。 test窗格一次只呈現一個查詢。
1. 如果您喜歡結果，請更新 *條件* 的子菜單。 然後，按一下頁面上的任意位置以更新test窗格中的結果。
1. 要使用一個條件構建簡單規則，請轉至步驟3: [添加事件](#events)。

### 多個條件

1. 要構建具有多個條件的規則，請按一下 **添加條件**。
一條規則最多可以包含十個條件。 連接兩個條件的邏輯運算子基於當前 *匹配* 的子菜單。 預設情況下， *匹配* 是 `All` 邏輯運算子是 `AND`。

   ![規則 — 搜索查詢包含](assets/rules-search-query-contains-and.png)

1. 選擇第二個條件並輸入所需的查詢文本。

1. 要更改規則的邏輯，請更改 **匹配** 設定以確定購物者的搜索條件必須與查詢條件匹配的程度。 設定 **匹配** 到以下項之一：

   * Any — （預設）規則中的所有邏輯運算子都設定為 `OR` 結果將出現在test窗格中。
   * 全部 — 規則中的所有邏輯運算子都設定為 `AND` 結果將出現在test窗格中。

   的 *匹配* 值確定用於連接多個條件的邏輯運算子。 更改 *匹配* 設定將更改規則中的所有邏輯運算子。 不可能合併 `AND` 和 `OR` 同一條規則。

   在本例中，除了搜索「瑜伽褲」外，還有兩個單獨的查詢可搜索「瑜伽」或「褲子」。 此規則不太具體，在店面觸發的次數也比在店面觸發的次數多。

   ![規則 — 匹配](assets/rules-match.png)

1. 要添加其他條件，請按一下 **添加條件** 重複這個過程。

## 排名類型

排名將用戶行為和站點統計資訊相結合，以確定產品排名。
商店所有者可以設定以下類型的排名策略：

![規則 — 匹配](assets/rules-ranking-type.png)

* 購買量最多：這按過去7天內每SKU的總購買量對產品進行排名。
* 大多數已添加到購物車 — 按過去7天內「添加到購物車」活動的總次序排列。
* 大多數查看者：按SKU對前7天的總視圖進行排名。
* 建議您使用 `viewed-viewed` 資料點 — 查看此SKU的購物者也查看了這些其他SKU
* 趨勢：回顧過去72小時內的頁面視圖事件（後台事件）和24小時前台事件（前台事件）
* 無：產品按相關性訂購

1. 選擇規則的策略類型。 「Test您的規則」窗口將顯示預期結果。

## 添加事件

事件是在滿足定義的條件時修改搜索結果的操作。 一個規則最多可以包含25個事件。

* Boost — 在搜索結果中將產品移高。
* Bury — 在搜索結果中移動較低的SKU。
* 固定產品 — 產品顯示在頁面上選定的「位置」中。
* 隱藏產品 — 從搜索結果中排除SKU。

要固定產品，最簡單的方法是拖放。

1. 在Test窗格中按一下並拖動產品。 將其拖放到所需位置。 「產品」(Product)和「位置」(Position)欄位將自動填充到「事件」(Events)窗格中。

   ![規則 — 匹配](assets/rule-event-pin-product.png)

您也可以按一下「銷釘」表徵圖將產品固定到其當前位置。 使用省略號上下文菜單可以「固定到頂部」或「固定到底部」。

>[!NOTE]
>
>您只能固定查詢中返回的產品。

或者可以手動設定事件：

1. 下 *事件*&#x200B;的子菜單。 **事件** 的條件。

   例如，選擇 `Hide a product`。 然後，輸入要隱藏的產品名稱。 在您鍵入時，將建議您使用產品。

1. 對於多個事件，選擇要在滿足條件時觸發的任何其他事件。

## 其他詳細資訊

此處輸入的資訊將顯示在 [規則詳細資訊](rules-workspace.md) 的子菜單。

1. 下 *詳細資訊*，輸入 **名稱** 為了規則。 所有規則名稱必須唯一。
1. 輸入簡短資訊 **說明** 規則。
1. 輸入 **開始日期** 和 **結束日期** 用於規則處於活動狀態或從日曆中選擇日期。

   要選擇日期範圍，請按一下第一個日期並拖動以選擇該範圍。

   ![規則 — 完成](assets/rule-add-details.png)

## 正在完成規則

1. 在「test」窗格中檢查規則的結果。
1. 如果規則具有多個查詢，則test每個可能受規則影響的查詢。
1. 完成後，按一下 **保存和發佈**。

   規則將添加到規則工作區的清單中。

1. 儘管活動規則會立即生效，但您可能需要等待15分鐘才能刷新儲存區中快取的查詢結果。

## 欄位說明

### 條件（如果）

| 條件 | 說明 |
|--- |--- |
| 搜索查詢包含 | 包含在購物者查詢中的文本字元或字串。 購物者的查詢只需匹配一個字元即可滿足此條件。 |
| 搜索查詢為 | 完全匹配購物者查詢的字元或字串。 使用此條件時，無法組成具有多個條件的複雜查詢。 |
| 搜索查詢以 | 購物者的查詢以此字元或文本字串開頭。 |
| 搜索查詢以 | 購物者的查詢以此字元或文本字串結尾。 |

### 邏輯運算子

| 運算子 | 說明 |
|--- |--- |
| 或 | （預設）邏輯運算子 `OR` 比較兩個條件，並滿足在至少一個條件為true時觸發事件的要求。 |
| 和 | 邏輯運算子 `AND` 比較兩個條件，並滿足在兩個條件都為真時觸發事件的要求。 |

### 匹配運算子

| 運算子 | 說明 |
|--- |--- |
| 任意 | 將規則中的所有邏輯運算子更改為 `OR` 並返回匹配產品集。 |
| 全部 | 將規則中的所有邏輯運算子更改為 `AND` 並返回匹配產品集。 |

### 事件

| 事件 | 說明 |
|--- |--- |
| 提升 | 在搜索結果中將SKU或SKU範圍移得更高。 每個都在test搜索結果中用「提升」預覽標籤進行標籤。 |
| 伯里 | 在搜索結果中移動較低的SKU或SKU範圍。 每個都在test搜索結果中標有「隱藏」預覽標籤。 |
| 固定產品 | 將單個SKU附加到搜索結果中的特定位置。 產品在test搜索結果中標籤有「固定」預覽標籤。 |
| 隱藏產品 | 從搜索結果中排除SKU或SKU範圍。 |

### 詳細資訊

| 欄位 | 說明 |
|--- |--- |
| 名稱 | 規則的名稱。 規則名稱必須唯一。 |
| 開始日期 | 規則的開始日期（如果已計畫）。 |
| 結束日期 | 規則的結束日期（如果已計畫）。 |
| 說明 | 規則的簡短說明。 |
